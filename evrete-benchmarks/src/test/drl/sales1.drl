import org.evrete.benchmarks.models.sales.Invoice;
import org.evrete.benchmarks.models.sales.Department;
import org.evrete.benchmarks.models.sales.Customer;
import org.evrete.benchmarks.models.sales.SalesReport;

rule "sales"
  when
      $i        : Invoice()
      $c        : Customer($i.customer.sameName($c.name) == true)
      $report   : SalesReport();

  then
      $report.sales += $i.amount;
end

