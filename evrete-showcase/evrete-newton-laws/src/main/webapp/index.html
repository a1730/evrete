<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Evrete showcase | Newton Laws</title>

    <!-- Foundation CSS -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.6.3/dist/css/foundation.min.css"
          rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500;600;700;800&display=swap"
          rel="stylesheet">
    <!-- Icons -->
    <link href="https://cdn.lineicons.com/2.0/LineIcons.css" rel="stylesheet">
    <!-- Project styling -->
    <link href="slider.css" rel="stylesheet" type="text/css">
    <link href="newton-laws.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="grid-container">
    <div class="grid-x grid-padding-x">
        <div class="cell small-8">
            <h2>Newton laws</h2>
            <div id="chart-wrapper">
                <svg class="svg"
                     height="1600"
                     id="plot"
                     preserveAspectRatio="none"
                     style="border: 1px solid royalblue"
                     viewBox="0 0 2000 1600"
                     width="2000">
                    <rect height="1600" id="svg-background" width="2000" x="0" y="0"/>
                    <g id="grid"/>
                    <defs>
                        <marker fill="#666666" id="arrowhead" markerHeight="7"
                                markerWidth="10" orient="auto" refX="0" refY="3.5" stroke="#666666">
                            <polygon points="0 0, 10 3.5, 0 7"/>
                        </marker>
                    </defs>
                    <filter height="200%" id="drop-shadow">
                        <feGaussianBlur in="SourceAlpha" stdDeviation="2"/>
                        <feOffset dx="1" dy="1" result="offset-blur"/>
                        <feComponentTransfer>
                            <feFuncA slope="0.5" type="linear"/>
                        </feComponentTransfer>
                        <feMerge>
                            <feMergeNode/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                    <style>
                        #grid line {
                            stroke-width: 2.0;
                            stroke: #c5c5c5;
                            stroke-dasharray: 2 8;
                            pointer-events: none;
                        }

                        #svg-background {
                            fill: #f5f5f5;
                            opacity: 0.5;
                        }

                        /*noinspection CssUnusedSymbol*/
                        line.acceleration, line.velocity {
                            stroke-width: 2.0;
                            stroke: #666666;
                            pointer-events: none;
                        }

                        ellipse {
                            filter: url(#drop-shadow);
                            stroke-width: 2.0;
                            stroke: #666666;
                        }
                    </style>

                    Your browser does not support inline SVG.
                </svg>
                <div id="zoom-value"></div>
            </div>
            <div class="grid-x">
                <div class="button-group cell small-8" id="session-controls">
                    <button class="secondary alert button"
                            disabled
                            id="start-button"
                            title="Start/Pause session">
                        <i class="lni lni-play" id="icon-play"></i>
                        <i class="lni lni-pause invisible" id="icon-pause"></i>
                    </button>
                    <button class="button secondary session-stop"
                            disabled
                            id="restart-button"
                            title="Restart">
                        <i class="lni lni-reload"></i>
                    </button>
                    <button class="button secondary session-stop"
                            id="reset-button"
                            onclick="newtonLaws.onUiReset()"
                            title="Reset all">
                        <i class="lni lni-close"></i>
                    </button>
                </div>
                <div class="cell small-4 align-right button-group" id="zoom-controls">
                    <button class="secondary button" id="zoom-in-button" onclick="newtonLaws.zoomIn()">
                        <i class="lni lni-circle-plus"></i>
                    </button>
                    <button class="secondary button" id="zoom-out-button" onclick="newtonLaws.zoomOut()">
                        <i class="lni lni-circle-minus"></i>
                    </button>
                </div>
                <div class="cell small-12 medium-10 large-8">
                    <table>
                        <tbody>
                        <tr>
                            <td style="width: 10%;">
                                <label for="gravity">
                                    G
                                </label>
                            </td>
                            <td style="width: 80%;">
                                <input class="evrete" id="gravity" max="100"
                                       min="0"
                                       onchange="newtonLaws.onUiGravityChange()"
                                       oninput="newtonLaws.onUiGravityChange()"
                                       step="1"
                                       type="range"
                                       value="50"
                                />
                            </td>
                            <td id="gravity-value" style="width: 10%;">
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <ol class="clearable" id="logs"></ol>

        </div>
        <div class="cell small-4">
            <h5>Created particles</h5>
            <p>Click to see the spatial data and/or change each particle's mass.</p>
            <ul class="no-bullet" id="object-controls"></ul>
            <div class="invisible" id="object-viewer">
                <h6></h6>
                <table class="hover unstriped">
                    <tbody>
                    <tr>
                        <td style="width: 20%;">
                            <label for="mass">
                                Mass
                            </label>
                        </td>
                        <td style="width: 80%;">
                            <input class="evrete" id="mass" max="100"
                                   min="1"
                                   oninput="newtonLaws.onUiMassChange()"
                                   step="1"
                                   type="range"
                                   value="50"
                            />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <pre id="state"></pre>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


<div class="grid-container">
    <div class="grid-x">
        <div class="cell large-8 medium-6">
            <div>
                <h3>Instructions</h3>
                <p><strong>Edit mode:</strong> first click on the map places a new particle, second click - its initial
                    velocity.</p>
                <p><strong>Run mode:</strong> click on the map to center the view</p>
                <p><strong>Buttons:</strong></p>
                <ul class="no-bullet">
                    <li><i class="lni lni-reload"></i> - replay your last configuration</li>
                    <li><i class="lni lni-close"></i> - reset all</li>
                    <li><i class="lni lni-circle-plus"></i> - zoom in</li>
                    <li><i class="lni lni-circle-minus"></i> - zoom out</li>
                </ul>
                <p>Use sliders to change the gravitational constant <code>G</code> and particles' mass (works both in
                    edit and run modes).</p>
            </div>
        </div>
        <div class="cell large-4 medium-6">
            <div>
                <h4>Preset scenarios</h4>
                <ul class="no-bullet" id="saved-configs"></ul>
            </div>
        </div>
    </div>
</div>

<div class="grid-container">
    <div class="grid-x">
        <div class="cell small-12">
            <div class="editor-hidden" id="rules-toggle">
                <h4>Rules</h4>
                <div class="showcase-editor" id="rule-editor" style="border: 1px solid #cccccc;"></div>
            </div>
        </div>
    </div>
</div>
<!-- jQuery -->
<script crossorigin="anonymous" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

<!-- Foundation JavaScript -->
<script crossorigin="anonymous"
        src="https://cdn.jsdelivr.net/npm/foundation-sites@6.6.3/dist/js/foundation.min.js"></script>

<!-- Ace Editor -->
<script charset="utf-8" crossorigin="anonymous" src="https://pagecdn.io/lib/ace/1.4.12/ace.js"></script>
<script charset="utf-8" crossorigin="anonymous" src="https://pagecdn.io/lib/ace/1.4.12/mode-java.js"></script>
<!-- Project files -->
<script src="newton-laws.js"></script>

</body>
</html>